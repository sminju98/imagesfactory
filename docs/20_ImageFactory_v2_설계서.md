# ImageFactory v2 ì „ì²´ ì„¤ê³„ì„œ

**ë¬¸ì„œ ë²„ì „**: 2.0  
**ì‘ì„±ì¼**: 2025-11-26  
**ìƒíƒœ**: ê°œë°œ ì§„í–‰ ì¤‘

---

## ğŸ“‹ ì„œë¹„ìŠ¤ ê°œìš”

### ì„œë¹„ìŠ¤ ë¹„ì „
> "ì´ë¯¸ì§€ ìƒì„±ê³„ì˜ Cursor" - ë©€í‹° ëª¨ë¸ AI ì´ë¯¸ì§€ ëŒ€ëŸ‰ ìƒì„± + ì½˜í…ì¸  ìë™í™” í”Œë«í¼

### ì„œë¹„ìŠ¤ êµ¬ì„±

| íƒ­ | ì„¤ëª… | ìƒíƒœ |
|---|---|---|
| **ImageFactory** | ë©€í‹° ëª¨ë¸ AI ì´ë¯¸ì§€ ìƒì„± | MVP 1ì°¨ ì¶œì‹œ |
| **ContentFactory** | ì´ë¯¸ì§€ ê¸°ë°˜ ì½˜í…ì¸  ìë™ ìƒì„± | Phase 2 ì˜ˆì • |

---

## ğŸ— ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì (ì›¹/ì•±)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js Frontend (Vercel)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ImageFactory â”‚ â”‚ContentFactoryâ”‚ â”‚       ê³µí†µ ì»´í¬ë„ŒíŠ¸          â”‚â”‚
â”‚  â”‚    íƒ­       â”‚ â”‚     íƒ­       â”‚ â”‚  Header, Gallery, Auth...   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js API Routes                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚/api/task/*   â”‚ â”‚/api/gpt/*    â”‚ â”‚/api/gallery/*â”‚             â”‚
â”‚  â”‚ ì‘ì—… ê´€ë¦¬    â”‚ â”‚ êµì •/ì¶”ì²œ    â”‚ â”‚ ê°¤ëŸ¬ë¦¬ ê´€ë¦¬  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Firebase Backend                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Cloud Functions (v2)                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚createTask  â”‚ â”‚jobWorker   â”‚ â”‚checkTaskCompletion     â”‚â”‚   â”‚
â”‚  â”‚  â”‚(HTTP)      â”‚ â”‚(Trigger)   â”‚ â”‚(Trigger)               â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Firestore     â”‚ â”‚    Storage      â”‚ â”‚  Authentication â”‚    â”‚
â”‚  â”‚  tasks, jobs,   â”‚ â”‚   ì´ë¯¸ì§€ ì €ì¥    â”‚ â”‚   ì´ë©”ì¼/êµ¬ê¸€   â”‚    â”‚
â”‚  â”‚  gallery, etc.  â”‚ â”‚   ZIP íŒŒì¼      â”‚ â”‚                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì™¸ë¶€ AI API                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚DALL-E 3â”‚ â”‚  Flux  â”‚ â”‚  SDXL  â”‚ â”‚Ideogramâ”‚ â”‚Leonardoâ”‚ ...    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡°

```
imagesfactory/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/                   # ì¸ì¦ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚   â”œâ”€â”€ (main)/                   # ë©”ì¸ ì„œë¹„ìŠ¤ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ image-factory/        # ImageFactory íƒ­
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ content-factory/      # ContentFactory íƒ­
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ gallery/              # ê°¤ëŸ¬ë¦¬ í˜ì´ì§€
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx            # íƒ­ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ generation/[id]/          # ìƒì„± ê²°ê³¼ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ task/                 # Task ê´€ë¦¬ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [taskId]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ images/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ gpt/                  # GPT ê¸°ëŠ¥ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ correct-prompt/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ recommend-model/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ gallery/              # ê°¤ëŸ¬ë¦¬ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [imageId]/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ like/route.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ comment/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ evolve/route.ts   # ì§„í™” ì‹œìŠ¤í…œ
â”‚   â”‚   â”‚   â””â”€â”€ generate/             # ê¸°ì¡´ API (ë ˆê±°ì‹œ)
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ëœë”© í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                       # shadcn/ui
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TabNavigation.tsx     # ImageFactory/ContentFactory íƒ­
â”‚   â”‚   â”‚   â””â”€â”€ BottomNavigation.tsx
â”‚   â”‚   â”œâ”€â”€ image-factory/            # ImageFactory ì „ìš©
â”‚   â”‚   â”‚   â”œâ”€â”€ PromptInput.tsx       # í”„ë¡¬í”„íŠ¸ ì…ë ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ ModelSelector.tsx     # ëª¨ë¸ ì„ íƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ AdvancedSettings.tsx  # ê³ ê¸‰ ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ GenerationProgress.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageCard.tsx         # ì´ë¯¸ì§€ ì¹´ë“œ (ì¢‹ì•„ìš”, ì½”ë©˜íŠ¸ ë“±)
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageGallery.tsx      # ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ EvolutionPanel.tsx    # ì§„í™” ì‹œìŠ¤í…œ íŒ¨ë„
â”‚   â”‚   â”œâ”€â”€ content-factory/          # ContentFactory ì „ìš©
â”‚   â”‚   â”‚   â”œâ”€â”€ CardNewsCreator.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ThumbnailCreator.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ReelsCreator.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TemplateSelector.tsx
â”‚   â”‚   â””â”€â”€ shared/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ ImageUploader.tsx
â”‚   â”‚       â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚       â””â”€â”€ Modal.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ firebase.ts               # Firebase Client
â”‚   â”‚   â”œâ”€â”€ firebase-admin.ts         # Firebase Admin
â”‚   â”‚   â”œâ”€â”€ ai-models.ts              # AI ëª¨ë¸ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ storage.ts                # Storage ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ translate.ts              # ë²ˆì—­ ìœ í‹¸
â”‚   â”‚   â””â”€â”€ email.ts                  # ì´ë©”ì¼ ìœ í‹¸
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ task.service.ts           # Task ìƒì„±/ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ gallery.service.ts        # ê°¤ëŸ¬ë¦¬ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ evolution.service.ts      # ì§„í™” ì‹œìŠ¤í…œ
â”‚   â”‚   â””â”€â”€ gpt.service.ts            # GPT êµì •/ì¶”ì²œ
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useTask.ts                # Task ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ useGallery.ts
â”‚   â”‚   â””â”€â”€ useEvolution.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ user.types.ts
â”‚   â”‚   â”œâ”€â”€ task.types.ts             # Task, Job íƒ€ì…
â”‚   â”‚   â”œâ”€â”€ gallery.types.ts          # Gallery, Like, Comment íƒ€ì…
â”‚   â”‚   â””â”€â”€ content.types.ts          # ContentFactory íƒ€ì…
â”‚   â”‚
â”‚   â””â”€â”€ store/
â”‚       â”œâ”€â”€ authStore.ts
â”‚       â”œâ”€â”€ taskStore.ts
â”‚       â””â”€â”€ galleryStore.ts
â”‚
â”œâ”€â”€ functions/                        # Firebase Functions
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                  # ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ createTask.ts             # Task ìƒì„± (HTTP)
â”‚   â”‚   â”œâ”€â”€ jobWorker.ts              # Job ì²˜ë¦¬ (Firestore Trigger)
â”‚   â”‚   â”œâ”€â”€ checkTaskCompletion.ts    # ì™„ë£Œ ì²´í¬ (Firestore Trigger)
â”‚   â”‚   â”œâ”€â”€ generateZipAndSendEmail.ts
â”‚   â”‚   â”œâ”€â”€ types.ts                  # íƒ€ì… ì •ì˜
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ firestore.ts
â”‚   â”‚       â”œâ”€â”€ imageGeneration.ts    # AI ëª¨ë¸ í˜¸ì¶œ
â”‚   â”‚       â”œâ”€â”€ zip.ts
â”‚   â”‚       â”œâ”€â”€ email.ts
â”‚   â”‚       â””â”€â”€ retry.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docs/                             # ë¬¸ì„œ
â”œâ”€â”€ public/
â”œâ”€â”€ firestore.rules
â”œâ”€â”€ firestore.indexes.json
â”œâ”€â”€ storage.rules
â””â”€â”€ firebase.json
```

---

## ğŸ—„ Firestore ìŠ¤í‚¤ë§ˆ

### ì»¬ë ‰ì…˜ êµ¬ì¡°

```
firestore/
â”œâ”€â”€ users/{userId}                    # ì‚¬ìš©ì ì •ë³´
â”œâ”€â”€ tasks/{taskId}                    # ì´ë¯¸ì§€ ìƒì„± ì‘ì—…
â”‚   â””â”€â”€ jobs/{jobId}                  # ê°œë³„ ì´ë¯¸ì§€ ìƒì„± ì‘ì—… (ì„œë¸Œì»¬ë ‰ì…˜)
â”œâ”€â”€ gallery/{userId}/images/{imageId} # ì‚¬ìš©ìë³„ ê°¤ëŸ¬ë¦¬
â”œâ”€â”€ likes/{imageId}/users/{userId}    # ì¢‹ì•„ìš” (ì„œë¸Œì»¬ë ‰ì…˜)
â”œâ”€â”€ comments/{imageId}/items/{commentId} # ì½”ë©˜íŠ¸ (ì„œë¸Œì»¬ë ‰ì…˜)
â”œâ”€â”€ evolutions/{evolutionId}          # ì§„í™” ì„¸ì…˜
â”œâ”€â”€ pointTransactions/{transactionId} # í¬ì¸íŠ¸ ê±°ë˜
â””â”€â”€ payments/{paymentId}              # ê²°ì œ
```

### ìƒì„¸ ìŠ¤í‚¤ë§ˆ

#### users/{userId}
```typescript
interface User {
  uid: string;
  email: string;
  displayName: string;
  photoURL?: string;
  provider: 'password' | 'google';
  points: number;
  emailVerified: boolean;
  stats: {
    totalGenerations: number;
    totalImages: number;
    totalPointsUsed: number;
    totalLikesReceived: number;
  };
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

#### tasks/{taskId}
```typescript
type TaskStatus = 'pending' | 'processing' | 'completed' | 'failed';

interface ModelConfig {
  modelId: string;
  count: number;
  pointsPerImage: number;
  status: TaskStatus;
  completedCount: number;
}

interface Task {
  id: string;
  userId: string;
  userEmail: string;
  prompt: string;
  promptTranslated?: string;  // ì˜ë¬¸ ë²ˆì—­
  modelConfigs: ModelConfig[];
  totalImages: number;
  totalPoints: number;
  referenceImageUrl?: string;
  evolutionSourceId?: string; // ì§„í™” ì›ë³¸ ì´ë¯¸ì§€ ID
  status: TaskStatus;
  progress: number;           // 0-100
  pointsDeducted: boolean;
  transactionId: string;
  imageUrls?: string[];       // ì™„ë£Œëœ ì´ë¯¸ì§€ URLs
  zipUrl?: string;
  resultPageUrl?: string;
  failedReason?: string;
  createdAt: Timestamp;
  updatedAt: Timestamp;
  finishedAt?: Timestamp;
}
```

#### tasks/{taskId}/jobs/{jobId}
```typescript
type JobStatus = 'pending' | 'processing' | 'completed' | 'failed';

interface Job {
  id: string;
  taskId: string;
  userId: string;
  prompt: string;
  modelId: string;
  status: JobStatus;
  retries: number;
  imageUrl?: string;
  thumbnailUrl?: string;
  errorMessage?: string;
  pointsCost: number;
  referenceImageUrl?: string;
  createdAt: Timestamp;
  updatedAt: Timestamp;
  finishedAt?: Timestamp;
}
```

#### gallery/{userId}/images/{imageId}
```typescript
interface GalleryImage {
  id: string;
  userId: string;
  taskId: string;
  jobId: string;
  prompt: string;
  modelId: string;
  imageUrl: string;
  thumbnailUrl: string;
  publicUrl: string;          // ë¸Œëœë“œ ë„ë©”ì¸ URL
  width: number;
  height: number;
  fileSize: number;
  likesCount: number;
  commentsCount: number;
  isPublic: boolean;          // ê³µê°œ ì—¬ë¶€
  evolutionGeneration: number; // ì§„í™” ì„¸ëŒ€ (0 = ì›ë³¸)
  parentImageId?: string;      // ì§„í™” ë¶€ëª¨ ì´ë¯¸ì§€
  createdAt: Timestamp;
}
```

#### likes/{imageId}/users/{userId}
```typescript
interface Like {
  userId: string;
  imageId: string;
  imageOwnerId: string;
  createdAt: Timestamp;
}
```

#### comments/{imageId}/items/{commentId}
```typescript
interface Comment {
  id: string;
  imageId: string;
  userId: string;
  userDisplayName: string;
  userPhotoURL?: string;
  content: string;            // ì½”ë©˜íŠ¸ ë‚´ìš© (ë‹¤ìŒ ì„¸ëŒ€ ë°˜ì˜ìš©)
  isAppliedToEvolution: boolean;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

#### evolutions/{evolutionId}
```typescript
interface Evolution {
  id: string;
  userId: string;
  sourceImageIds: string[];   // ì¢‹ì•„ìš” ë°›ì€ ì´ë¯¸ì§€ë“¤
  comments: string[];         // ë°˜ì˜í•  ì½”ë©˜íŠ¸ë“¤
  generatedTaskId: string;    // ìƒì„±ëœ Task ID
  generation: number;         // ì„¸ëŒ€ ë²ˆí˜¸
  status: 'pending' | 'processing' | 'completed';
  createdAt: Timestamp;
}
```

---

## ğŸ”§ Firebase Storage êµ¬ì¡°

```
storage/
â”œâ”€â”€ generations/
â”‚   â””â”€â”€ {taskId}/
â”‚       â””â”€â”€ {jobId}_{modelId}.png     # ìƒì„±ëœ ì´ë¯¸ì§€
â”œâ”€â”€ thumbnails/
â”‚   â””â”€â”€ {taskId}/
â”‚       â””â”€â”€ {jobId}_{modelId}_thumb.png
â”œâ”€â”€ references/
â”‚   â””â”€â”€ {userId}/
â”‚       â””â”€â”€ {timestamp}_{filename}    # ë ˆí¼ëŸ°ìŠ¤ ì´ë¯¸ì§€
â”œâ”€â”€ zips/
â”‚   â””â”€â”€ {taskId}.zip                  # ZIP íŒŒì¼
â””â”€â”€ profiles/
    â””â”€â”€ {userId}/
        â””â”€â”€ avatar.png                # í”„ë¡œí•„ ì´ë¯¸ì§€
```

### ì´ë¯¸ì§€ URL êµ¬ì¡°

ë¸Œëœë“œ ë„ë©”ì¸ì„ ì‚¬ìš©í•œ ê³µê°œ URL:
```
https://cdn.imagefactory.co.kr/{userId}/{imageId}.png
```

ì‹¤ì œ Storage URL:
```
https://storage.googleapis.com/{bucket}/generations/{taskId}/{jobId}_{modelId}.png
```

---

## ğŸš€ API ì„¤ê³„

### Task API

#### POST /api/task/create
ìƒˆë¡œìš´ ì´ë¯¸ì§€ ìƒì„± ì‘ì—… ìƒì„±

**Request:**
```json
{
  "prompt": "í‘¸ë¥¸ ë°”ë‹¤ ìœ„ë¥¼ ë‚˜ëŠ” ê°ˆë§¤ê¸°",
  "selectedModels": {
    "sdxl": 5,
    "flux": 3,
    "dall-e-3": 2
  },
  "referenceImageUrl": "https://...",
  "evolutionSourceId": "image123"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "taskId": "task_abc123",
    "totalImages": 10,
    "totalPoints": 500,
    "estimatedTime": 120
  }
}
```

#### GET /api/task/{taskId}
ì‘ì—… ìƒíƒœ ì¡°íšŒ

**Response:**
```json
{
  "success": true,
  "data": {
    "id": "task_abc123",
    "status": "processing",
    "progress": 45,
    "totalImages": 10,
    "completedImages": 4,
    "imageUrls": ["url1", "url2", "url3", "url4"]
  }
}
```

### GPT API

#### POST /api/gpt/correct-prompt
í”„ë¡¬í”„íŠ¸ êµì •

**Request:**
```json
{
  "prompt": "ì˜ˆìœ ê³ ì–‘ì´ ê·¸ë¦¼"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "originalPrompt": "ì˜ˆìœ ê³ ì–‘ì´ ê·¸ë¦¼",
    "correctedPrompt": "A beautiful fluffy cat with bright green eyes, sitting gracefully, soft natural lighting, photorealistic, 8k quality",
    "suggestions": [
      "ìŠ¤íƒ€ì¼ ì¶”ê°€: watercolor, oil painting",
      "ë°°ê²½ ì¶”ê°€: garden, cozy room"
    ]
  }
}
```

#### POST /api/gpt/recommend-model
ëª¨ë¸ ì¶”ì²œ

**Request:**
```json
{
  "prompt": "ì‹¤ì‚¬ ì¸ë¬¼ ì‚¬ì§„",
  "budget": 500
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "recommendations": [
      {
        "modelId": "flux",
        "count": 5,
        "reason": "ì‹¤ì‚¬ ì¸ë¬¼ì— ìµœì í™”ëœ ëª¨ë¸",
        "points": 50
      },
      {
        "modelId": "sdxl",
        "count": 3,
        "reason": "ê³ í’ˆì§ˆ ë””í…Œì¼ í‘œí˜„",
        "points": 90
      }
    ],
    "totalPoints": 140
  }
}
```

### Gallery API

#### GET /api/gallery
ì‚¬ìš©ì ê°¤ëŸ¬ë¦¬ ì¡°íšŒ

#### POST /api/gallery/{imageId}/like
ì¢‹ì•„ìš” í† ê¸€

#### POST /api/gallery/{imageId}/comment
ì½”ë©˜íŠ¸ ì¶”ê°€

#### POST /api/gallery/evolve
ì¢‹ì•„ìš” ê¸°ë°˜ ì§„í™” ìƒì„±

**Request:**
```json
{
  "selectedImageIds": ["img1", "img2", "img3"],
  "additionalPrompt": "ë” ë°ì€ ìƒ‰ê°ìœ¼ë¡œ",
  "comments": ["ëˆˆì„ ë” í¬ê²Œ", "ë°°ê²½ì„ ë°”ë‹¤ë¡œ"]
}
```

---

## ğŸ¨ UI ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### ImageFactory íƒ­ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ImageFactory]  [ContentFactory]                        â”‚  â† íƒ­ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ í”„ë¡¬í”„íŠ¸ ì…ë ¥                                        â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ ìƒì„±í•˜ê³  ì‹¶ì€ ì´ë¯¸ì§€ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”...           â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚                                                      â”‚â”‚
â”‚  â”‚ [âœ¨ í”„ë¡¬í”„íŠ¸ êµì •(GPT)]  [ğŸ’¡ ëª¨ë¸ ì¶”ì²œ(GPT)]        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â–¼ ê³ ê¸‰ ì„¤ì • (ì ‘ê¸°/í¼ì¹˜ê¸°)                           â”‚â”‚
â”‚  â”‚                                                      â”‚â”‚
â”‚  â”‚ ëª¨ë¸ ì„ íƒ:                                           â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚â”‚
â”‚  â”‚ â”‚â˜‘ SDXL  â”‚ â”‚â˜‘ Flux  â”‚ â”‚â–¡ DALL-Eâ”‚ â”‚â–¡ Ideogramâ”‚       â”‚â”‚
â”‚  â”‚ â”‚ [3ì¥]  â”‚ â”‚ [5ì¥]  â”‚ â”‚        â”‚ â”‚          â”‚       â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚â”‚
â”‚  â”‚                                                      â”‚â”‚
â”‚  â”‚ ë ˆí¼ëŸ°ìŠ¤ ì´ë¯¸ì§€:                                     â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚â”‚
â”‚  â”‚ â”‚  [+] ì´ë¯¸ì§€ ì—…ë¡œë“œ   â”‚                             â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  ì˜ˆìƒ í¬ì¸íŠ¸: 280pt    ì”ì•¡: 1,500pt                     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              [ğŸ¨ ì´ë¯¸ì§€ ìƒì„±í•˜ê¸°]                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¸ ë‚´ ê°¤ëŸ¬ë¦¬                        [ì¢‹ì•„ìš”ìˆœ] [ìµœì‹ ìˆœ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚        â”‚ â”‚        â”‚ â”‚        â”‚ â”‚        â”‚          â”‚
â”‚  â”‚ [IMG]  â”‚ â”‚ [IMG]  â”‚ â”‚ [IMG]  â”‚ â”‚ [IMG]  â”‚          â”‚
â”‚  â”‚        â”‚ â”‚        â”‚ â”‚        â”‚ â”‚        â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚â¤ï¸ 12   â”‚ â”‚â¤ï¸ 8    â”‚ â”‚â¤ï¸ 5    â”‚ â”‚â¤ï¸ 3    â”‚          â”‚
â”‚  â”‚ğŸ’¬ 3    â”‚ â”‚ğŸ’¬ 1    â”‚ â”‚ğŸ’¬ 0    â”‚ â”‚ğŸ’¬ 2    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ§¬ ì„ íƒí•œ ì´ë¯¸ì§€ë¡œ ë‹¤ìŒ ì„¸ëŒ€ ìƒì„±í•˜ê¸° (3ì¥ ì„ íƒë¨)  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì´ë¯¸ì§€ ì¹´ë“œ ìƒì„¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    â”‚
â”‚           [ì´ë¯¸ì§€ ì˜ì—­]            â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SDXL Â· 2025.11.26                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¤ï¸ ì¢‹ì•„ìš” 12  ğŸ’¬ ì½”ë©˜íŠ¸ 3          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ”— URLë³µì‚¬] [ğŸ–¼ï¸ ë ˆí¼ëŸ°ìŠ¤] [â¬‡ï¸]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ContentFactory íƒ­ UI (Phase 2 ê¸°ë³¸ êµ¬ì¡°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ImageFactory]  [ContentFactory]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸš§ ContentFactoryê°€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!                      â”‚
â”‚                                                          â”‚
â”‚  ê³§ ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë©ë‹ˆë‹¤:                            â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ ğŸ“° ì¹´ë“œë‰´ìŠ¤   â”‚ â”‚ ğŸ¬ ì¸ë„¤ì¼     â”‚                    â”‚
â”‚  â”‚   ìë™ ìƒì„±   â”‚ â”‚   ìë™ ìƒì„±   â”‚                    â”‚
â”‚  â”‚   (ì¤€ë¹„ì¤‘)    â”‚ â”‚   (ì¤€ë¹„ì¤‘)    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ ğŸ“± ë¦´ìŠ¤/í‹±í†¡  â”‚ â”‚ ğŸ¨ í¬ìŠ¤í„°    â”‚                    â”‚
â”‚  â”‚   ì˜ìƒ ìƒì„±   â”‚ â”‚   í…œí”Œë¦¿      â”‚                    â”‚
â”‚  â”‚   (ì¤€ë¹„ì¤‘)    â”‚ â”‚   (ì¤€ë¹„ì¤‘)    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“§ ì¶œì‹œ ì•Œë¦¼ ë°›ê¸°: [ì´ë©”ì¼ ì…ë ¥]  [ì•Œë¦¼ ì‹ ì²­]       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ì§„í™” ì‹œìŠ¤í…œ í”Œë¡œìš°

```
1. ì´ë¯¸ì§€ ìƒì„±
   â””â”€â–º ê°¤ëŸ¬ë¦¬ì— ì¶”ê°€

2. ì‚¬ìš©ì ìƒí˜¸ì‘ìš©
   â”œâ”€â–º ì¢‹ì•„ìš” í´ë¦­ (ë§ˆìŒì— ë“œëŠ” ì´ë¯¸ì§€ ì„ íƒ)
   â””â”€â–º ì½”ë©˜íŠ¸ ì‘ì„± (ê°œì„  ë°©í–¥ ì œì‹œ)

3. ì§„í™” ìƒì„± ìš”ì²­
   â”œâ”€â–º ì¢‹ì•„ìš” ë°›ì€ ì´ë¯¸ì§€ë“¤ ì„ íƒ (ìµœëŒ€ 5ì¥)
   â”œâ”€â–º ì½”ë©˜íŠ¸ ë‚´ìš©ì„ í”„ë¡¬í”„íŠ¸ì— ë°˜ì˜
   â””â”€â–º ìƒˆë¡œìš´ Task ìƒì„±

4. ë‹¤ìŒ ì„¸ëŒ€ ì´ë¯¸ì§€ ìƒì„±
   â”œâ”€â–º ì›ë³¸ ì´ë¯¸ì§€ë“¤ì˜ íŠ¹ì„± ë¶„ì„
   â”œâ”€â–º ì½”ë©˜íŠ¸ ë°˜ì˜í•œ í”„ë¡¬í”„íŠ¸ ìƒì„±
   â””â”€â–º ì„ í˜¸ ëª¨ë¸ë¡œ ì´ë¯¸ì§€ ìƒì„±

5. ì„¸ëŒ€ ì—°ê²°
   â””â”€â–º parentImageIdë¡œ ì§„í™” íŠ¸ë¦¬ êµ¬ì„±
```

---

## ğŸ”‘ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### .env.local
```bash
# Firebase
NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=

# Firebase Admin (Server-side)
FIREBASE_ADMIN_PROJECT_ID=
FIREBASE_ADMIN_CLIENT_EMAIL=
FIREBASE_ADMIN_PRIVATE_KEY=
# ë˜ëŠ” Base64 ì¸ì½”ë”©ëœ ì„œë¹„ìŠ¤ ê³„ì •
FIREBASE_SERVICE_ACCOUNT_BASE64=

# AI APIs
OPENAI_API_KEY=              # DALL-E 3, GPT êµì •/ì¶”ì²œ
REPLICATE_API_TOKEN=         # SDXL, Flux, PixArt
XAI_API_KEY=                 # Aurora (Grok)
LEONARDO_API_KEY=            # Leonardo
IDEOGRAM_API_KEY=            # Ideogram

# Email
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@imagefactory.co.kr

# Payment
TOSS_CLIENT_KEY=
TOSS_SECRET_KEY=

# Translation
GOOGLE_TRANSLATE_API_KEY=

# App
NEXT_PUBLIC_APP_URL=https://imagefactory.co.kr
CDN_DOMAIN=https://cdn.imagefactory.co.kr

# Test Mode (ë”ë¯¸ ì´ë¯¸ì§€ ìƒì„±)
TEST_MODE=false
```

---

## ğŸ“Š ëª¨ë¸ë³„ í¬ì¸íŠ¸ ê°€ê²©

| ëª¨ë¸ | í¬ì¸íŠ¸/ì¥ | íŠ¹ì§• |
|------|----------|------|
| PixArt-Î£ | 10pt | ë¹ ë¥´ê³  ì˜ˆìˆ ì  |
| Flux Schnell | 10pt | ë¹ ë¥¸ ìƒì„±, ìŠ¤íƒ€ì¼ë¦¬ì‹œ |
| Realistic Vision | 20pt | ì‹¤ì‚¬ ì´ë¯¸ì§€ |
| SDXL | 30pt | ê³ í’ˆì§ˆ ë²”ìš© |
| Leonardo XL | 30pt | ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ |
| Aurora (Grok) | 60pt | xAI ê³ í’ˆì§ˆ |
| Ideogram | 60pt | í…ìŠ¤íŠ¸ í¬í•¨ íŠ¹í™” |
| DALL-E 3 | 150pt | OpenAI ìµœê³  í’ˆì§ˆ |

---

## ğŸ›  ê°œë°œ ë‹¨ê³„

### PHASE 1: ImageFactory MVP (í˜„ì¬)
- [x] ê¸°ë³¸ ì´ë¯¸ì§€ ìƒì„± ê¸°ëŠ¥
- [ ] ë¶„ì‚° í ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ê°¤ëŸ¬ë¦¬ + ì¢‹ì•„ìš”/ì½”ë©˜íŠ¸
- [ ] ì§„í™” ì‹œìŠ¤í…œ
- [ ] GPT í”„ë¡¬í”„íŠ¸ êµì •
- [ ] GPT ëª¨ë¸ ì¶”ì²œ
- [ ] ContentFactory íƒ­ (Coming Soon ìƒíƒœ)

### PHASE 2: ë°ì´í„° ìˆ˜ì§‘ (2~4ì£¼)
- ëª¨ë¸ë³„ ì‚¬ìš© í†µê³„
- ì¸ê¸° ì´ë¯¸ì§€ ë¶„ì„
- ì‚¬ìš©ì íŒ¨í„´ ë¶„ì„

### PHASE 3: ContentFactory ê°œë°œ
- ì¹´ë“œë‰´ìŠ¤ ìë™ ìƒì„±
- ì¸ë„¤ì¼ ìƒì„±
- ë¦´ìŠ¤/í‹±í†¡ ì˜ìƒ ìƒì„±
- í…œí”Œë¦¿ ì‹œìŠ¤í…œ

---

**ë¬¸ì„œ íˆìŠ¤í† ë¦¬**
- v2.0 (2025-11-26): ì „ì²´ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„


